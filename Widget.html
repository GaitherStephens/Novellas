<!--Novellas by SPQRGuyMontag
Based on Metro-UI-CSS by Sergey Pimenov
Built on the work of JunesiPhone and Matchstic-->
<!DOCTYPE html>
<html>
  <head>
    <title>Novellas by SPQRGuyMontag</title>
    <!-- Include Main jQuery library -->
    <script type="text/Javascript" src="js/jquery-1.4.2.min.js"></script>

    <!-- Include Main Easy Slides library & default css file-->
    <script type="text/Javascript" src="js/jquery.easyslides.min.v1.1.js"></script>
    <link rel="stylesheet" type="text/css" href="css/easySlides.default.min.css" />

    <!-- Include own Javascript/jQuery & CSS file for Example 2 -->
    <script type="text/Javascript" src="js/music_slides.js"></script>
    <script type="text/Javascript" src="js/clock_slides.js"></script>
    <script src="js/lang.js"></script>
    <link href="css/metro.css" rel="stylesheet">
    <link href="css/metro-icons.css" rel="stylesheet">
    <link href="css/metro-responsive.css" rel="stylesheet">
    <script src="js/prettify/run_prettify.js"></script>
    <script src="js/clock1.0.3.1.js"></script>
    <script src="js/metro.js"></script>
    <script src="js/swipes.js"></script>

    <style>
      .hand-container{
        text-align: center;
        moz-transform-origin: center center;
        -o-transform-origin: center center;
        -ms-transform-origin: center center;
        -webkit-transform-origin: center center;
        transform-origin: center center;
      }

      .center-dial {
        position: absolute;
        top: 0px;
        left:0px;
        -webkit-transition: all 0.5s;
        -moz-transition: all 0.5s;
        -ms-transition: all 0.5s;
        -o-transition: all 0.5s;
        transition: all 0.5s;
        width: 120px;
        height: 120px;
        background-color: rgba(255,255,255,.4);
        border-radius: 50%;
        cursor: pointer;
        overflow: hidden;
      }

      .hand-container {
        position: absolute;
        top: 0%;
        left: calc(50% - 6px);
        opacity: 0;
        filter: alpha(opacity=0);
        width: 12.5px;
        height: 120px;
        moz-transform-origin: center center;
        -o-transform-origin: center center;
        -ms-transform-origin: center center;
        -webkit-transform-origin: center center;
        transform-origin: center center;
      }

      .hour-hand {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-bottom: 8px solid black;
        position: relative;
        top: calc(50% - 60px);
        left: calc(50% - 5px);
        -webkit-transition: all 0.5s;
        -moz-transition: all 0.5s;
        -ms-transition: all 0.5s;
        -o-transition: all 0.5s;
        transition: all 0.5s;
      }

      .second-hand {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-bottom: 8px solid red;
        position: relative;
        top: calc(50% - 60px);
        left: calc(50% - 5px);
      }

      .digital-hour {
      font-family: 'Open Sans Bold';
      color: black;
      font-size:48px;
      position: absolute;
      width: 60px;
      top: 33px;
      left: -45px;
      text-align: right;
      float: right;
    }

    .digital-minute {
      font-family: 'Open Sans';
      color: black;
      font-size: 30px;
      position: absolute;
      top: 48px;
      left: 15px;
      text-align: left;
    }

    .digital-second {
      font-family: 'Open Sans';
      color: red;
      font-size: 18px;
      position: absolute;
      top: 85px;
      left: 0px;
      text-align: center;
    }

    #mainElement {
      position: absolute;
      padding-left: 0px;
      height: 736px;
      width: 414px;
      font-family: 'Open Sans';
    }

    #statusBar {
      display: block;
      height: 20px;
    }

    #twitter {
      position: relative;
      left: 5px;
    }

    #phone-count, #sms-count, #mail-count, #facebook-count, #twitter-count {
      position: absolute;
      top: 87px;
      left: 12px;
      height: 100%;
      font-size: 2em;
    }

    #tile1Container, #tile2Container, #tile5Container, #tile6Container,
    #tile10Container, #tile11Container, #clock, #music, #tile9Container,
    #tile7Container, #tile3Container{
      height:120px;
      width:120px;
      z-index: 0;
      border: 0px;
    }

    #tile4Container {
      height: 250px;
      text-shadow: 0px 0px 20px #000000,
                   0px 0px 30px #000000;
    }
    #wxBgDiv{
      position: absolute;
      top:0px;
      height: 250px;
      width: 250px;
      z-index: -1;
    }
    #wxBgDiv img {
      position: absolute;
      top: 0px;
      height: 250px;
      display: block;
      margin: auto;
      z-index: -1;
    }

    #wxIcon img {
      position: absolute;
      top: 5px;
      left: 0px;
      height: 65px;
    }
    #daySection{
      height:35px;
      z-index: 5;
    }
    #daySection p {
      margin:-2px;
      font-size:16px
    }
    #daySection img {
      width:35px;
    }
    #daySection div {
      position: relative;
      top:10px;
      left:20px;
      float:left;
      width:68px;
      text-shadow: 0px 0px 10px #000000,
                   0px 0px 20px #000000;
    }
    #tile12Container, #tile13Container, #tile14Container, #tile15Container,
    #tile16Container, #tile17Container{
      height:60px;
      width:60px;
    }

    .tile-area-controls {
        position: fixed;
        right: 40px;
        top: 40px;
    }

    .tile-group {
        left: 100px;
    }

    .tile, .tile-small, .tile-sqaure, .tile-wide, .tile-large, .tile-big, .tile-super {
        opacity: 0;
        -webkit-transform: scale(.8);
        transform: scale(.8);

    }

    .schemeButtons {
        /*width: 300px;*/
    }

    @media screen and (max-width: 640px) {
        .tile-area {
            overflow-y: scroll;
        }
        .tile-area-controls {
            display: none;
        }
    }

    @media screen and (max-width: 320px) {
        .tile-area {
            overflow-y: scroll;
        }

        .tile-area-controls {
            display: none;
        }

    }
    </style>

    <script>
        (function($) {
            $.StartScreen = function(){
                var plugin = this;
                var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;

                plugin.init = function(){
                    setTilesAreaSize();
                };

                var setTilesAreaSize = function(){
                    var groups = $(".tile-group");
                    var tileAreaWidth = 80;
                    $.each(groups, function(i, t){
                        if (width <= 640) {
                            tileAreaWidth = width;
                        } else {
                            tileAreaWidth += $(t).outerWidth() + 80;
                        }
                    });
                    $(".tile-area").css({
                        width: tileAreaWidth
                    });
                };

                plugin.init();
            }
        })(jQuery);

        $(function(){
            $.StartScreen();

            var tiles = $(".tile, .tile-small, .tile-sqaure, .tile-wide, .tile-large, .tile-big, .tile-super");

            $.each(tiles, function(){
                var tile = $(this);
                setTimeout(function(){
                    tile.css({
                        opacity: 1,
                        "-webkit-transform": "scale(1)",
                        "transform": "scale(1)",
                        "-webkit-transition": ".3s",
                        "transition": ".3s"
                    });
                }, Math.floor(Math.random()*500));
            });

            $(".tile-group").animate({
                left: 0
            });
        });

        $(function(){
            var current_tile_area_scheme = localStorage.getItem('tile-area-scheme') || "tile-area-scheme-dark";
            $(".tile-area").removeClass (function (index, css) {
                return (css.match (/(^|\s)tile-area-scheme-\S+/g) || []).join(' ');
            }).addClass(current_tile_area_scheme);
        });

    </script>
</head>
<body style="overflow-y: hidden;">
<div id="mainElement">
  <div class="tile-area fg-white" style="height: 100%; max-height: 100% !important;">
    <div id="statusBar"></div>
    <div class="tile-group triple" style="margin-left:12px;">
        <div class="tile-container">
          <div class="tile" data-role="tile">
            <div class="tile-content iconic">
                <div id="tile1Container"><span class="icon mif-phone"></span></div>
            </div>
            <div id="phone-count"></div>
          </div>

            <div class="tile fg-white" data-role="tile">
              <div class="tile-content iconic">
                <div id="tile2Container"><span class="icon mif-bubbles"></span></div>
              </div>
                <div id="sms-count"></div>
            </div>
            <div id="tile3Container" class="tile" data-role="tile" data-role="tile">
              <div id="clock" class="easy_slides_container"></div>
              <div class='center-dial' id="center-dial">
                  <div class='hand-container' id='hourHand'>
                    <div class='hour-hand' id='hour-hand'></div>
                  </div>
                  <div class='hand-container' id='secondHand'>
                    <div class='second-hand' id='second-hand'></div>
                  </div>
                  <div class='hand-container' id='digital'>
                    <div class='digital-hour' id="digital-hour">23</div>
                  </div>
                  <div class='hand-container' id='digital'>
                    <div class='digital-minute' id="digital-minute">58</div>
                  </div>
                  <div class='hand-container' id='digital'>
                    <div class='digital-second' id="digital-second">59</div>
                  </div>
                </div>
            </div>


          <div class="tile-large fg-white" data-role="tile">
            <div class="tile-content" id="tile4Container">


                <h1 id="wxIcon"><img id="wx_icon" src="images/wx/0.svg"></h1>
                <h1 id="temp" style="position:relative; left: 60px; text-align:left;">45&deg</h1>
                <h2 id="city" class="text-light">Port Charlotte</h2>
                <h4 id="condition" style="font-size:20px;">Scattered Thunderstorms</h4>
                <p id="condition_daily"></p>

                <p style="margin: 5px;">Wind bearing: <span class="text-bold" id="wind_bearing"></span></p>
                <p style="margin: 5px;">Wind speed: <span class="text-bold" id="wind_speed">0</span>mph</p>
                <section id="daySection">

                  <!-- display next five days -->
                  <div id="dayZero" style="margin-top:0;">
                    <center>
                    <p id="dayZeroDayString"></p>
                    <img id="dayZeroImg"/>
                    <p style="width: 50px; text-align:center;"><span id="dayZeroHigh"></span>&nbsp;<span id="dayZeroLow" style="color:#bfbfbf;"></span></p>
                    </center>
                  </div>
                  <div id="dayOne" style="margin-top:0;">
                    <center>
                    <p id="dayOneDayString"></p>
                    <img id="dayOneImg"/>
                    <p style="width: 50px; text-align:center;"><span id="dayOneHigh"></span>&nbsp;<span id="dayOneLow" style="color:#bfbfbf;"></span></p>
                    </center>
                  </div>

            			<div id="dayTwo" style="margin-top:0;">
            				<center>
            				<p id="dayTwoDayString"></p>
            				<img id="dayTwoImg"/>
                    <p style="width: 50px; text-align:center;"><span id="dayTwoHigh"></span>&nbsp;<span id="dayTwoLow" style="color:#bfbfbf;"></span></p>
            				</center>
            			</div>
                </section>
                <div id="wxBgDiv">
                <img id="wxBg">
              </div>
              </div>
          </div>
          <div class="tile fg-white" data-role="tile">
            <div class="tile-content iconic">
              <div id="tile5Container"><span class="icon mif-envelop"></span></div>
            </div>
              <div id="mail-count"></div>
          </div>
          <div class="tile fg-white" data-role="tile">
            <div class="tile-content iconic">
              <div id="tile6Container"><span class="icon mif-earth2"></span></div>
            </div>
          </div>
        </div>
    </div>
    <div class="tile-group triple" style="margin-left:12px;">
        <div class="tile-container">
          <div class="tile fg-white" data-role="tile">
            <div class="tile-content iconic">
              <div id="tile7Container"><span class="icon mif-twitter"></span></div>
            </div>
            <div id="twitter-count"></div>
          </div>

            <div class="tile-wide" data-role="tile" style="width:250px">
                <div class="tile-content">
                  <!-- start sw-rss-feed code -->
                  <div id="tile8Container">
                  <script type="text/javascript">
                  <!--
                  rssfeed_url = new Array();
                  rssfeed_url[0]="http://news.yahoo.com/rss/"; rssfeed_url[1]="http://feeds.gawker.com/gizmodo/full"; rssfeed_url[2]="http://feeds.gawker.com/lifehacker/full";
                  rssfeed_frame_width="250";
                  rssfeed_frame_height="120";
                  rssfeed_scroll="on";
                  rssfeed_scroll_step="10";
                  rssfeed_scroll_bar="off";
                  rssfeed_target="_blank";
                  rssfeed_font_size="14";
                  rssfeed_font_face="Roboto";
                  rssfeed_border="off";
                  rssfeed_css_url="";
                  rssfeed_title="off";
                  rssfeed_title_name="";
                  rssfeed_title_bgcolor="#fff";
                  rssfeed_title_color="#fff";
                  rssfeed_title_bgimage="http://";
                  rssfeed_footer="off";
                  rssfeed_footer_name="rss feed";
                  rssfeed_footer_bgcolor="#fff";
                  rssfeed_footer_color="";
                  rssfeed_footer_bgimage="http://";
                  rssfeed_item_title_length="90";
                  rssfeed_item_title_color="#fff";
                  rssfeed_item_bgcolor="";
                  rssfeed_item_bgimage="http://";
                  rssfeed_item_border_bottom="off";
                  rssfeed_item_source_icon="off";
                  rssfeed_item_date="off";
                  rssfeed_item_description="on";
                  rssfeed_item_description_length="0";
                  rssfeed_item_description_color="#fff";
                  rssfeed_item_description_link_color="#fff";
                  rssfeed_item_description_tag="on";
                  rssfeed_no_items="0";
                  rssfeed_cache = "5c5ab50d67c8f9baa7e2449f32e4c938";
                  //-->
                  </script>
                  <script type="text/javascript" src="http://feed.surfing-waves.com/js/rss-feed.js"></script>
                  <!-- The link below helps keep this service FREE, and helps other people find the SW widget. Please be cool and keep it! Thanks. -->
                  <div style="text-align:right; width:250px;"><a href="http://www.surfing-waves.com/feed.htm" target="_blank" style="color:#fff;font-size:10px">widget @</a> <a href="http://www.surfing-waves.com" target="_blank" style="color:#fff;font-size:10px">surfing-waves.com</a></div>
                  <!-- end sw-rss-feed code -->
                </div>
                </div>
            </div>
          </div>
          <div class="tile-group triple">
              <div class="tile-container">

          <div class="tile fg-white" data-role="tile">
            <div class="tile-content iconic">
              <div id="tile9Container"><span class="icon mif-facebook"></span></div>
            </div>
            <div id="facebook-count"></div>
          </div>
          <div class="tile fg-white" data-role="tile">
            <div class="tile-content iconic">
              <div id="tile10Container"><span class="icon mif-apps"></span></div>
            </div>
            <span class="tile-label">Apps</span>
          </div>
          <div id="tile11Container" class="tile" data-role="tile" data-role="tile">
              <div id="music" class="easy_slides_container"></div>
          </div>

        </div>
      </div>
          <div class="tile-group triple" style="margin-left:2px;">
              <div class="tile-container">
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile12Container"><span class="icon mif-camera"></span></div>
                </div>
            </div>
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile13Container"><span class="icon mif-map"></span></div>
                </div>
            </div>
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile14Container"><span class="icon mif-multitrack-audio"></span></div>
                </div>
            </div>
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile15Container"><span class="icon mif-lock"></span></div>
                </div>
            </div>
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile16Container"><span class="icon mif-cogs"></span></div>
                </div>
            </div>
            <div class="tile-small fg-white" data-role="tile">
                <div class="tile-content iconic">
                    <div id="tile17Container"><span class="icon mif-chevron-right"></span></div>
                </div>
            </div>

          </div>
        </div>

    </div>
  </div>

    <script type="text/cycript">
      //<![CDATA[
      var widgetIdentifier = "com.gaitherstephens.novellas";
      var twentyfourhour = twentyfourhourOp
      var wxRefresh = wxRefreshOp;
      var favMusicApp = favMusicAppOp;
      var favBrowserApp = favBrowserAppOp;
      var bgColor = bgColorOp;
      var bgOpacity = bgOpacityOp;
      var tilesOpacity = tilesOpacityOp;
      var firstMusic = 0;
      var tilesColor = tilesColorOp;
      // Setup of widget
      window.onload = function() {
        [IS2Weather registerForWeatherUpdatesWithIdentifier:widgetIdentifier andCallback:^ void () {
          updateWx();
        }];
        updateWx();

        [IS2Weather setWeatherUpdateTimeInterval:wxRefresh forRequester:widgetIdentifier];

        //registers widget for media updates
        [IS2Media registerForNowPlayingNotificationsWithIdentifier:widgetIdentifier andCallback:^ void () {
            updateMedia();
        }];
        [IS2Notifications registerForBulletinNotificationsWithIdentifier:widgetIdentifier andCallback:^ void () {
            updateNotifications();
        }];
        updateNotifications();
        updateSystem();
      }

      // Make sure to de-register ourselves when removed from the user's screen.
      window.onunload = function() {
        [IS2Media unregisterForNotificationsWithIdentifier:widgetIdentifier];
        [IS2Weather unregisterForUpdatesWithIdentifier:widgetIdentifier];
        [IS2Weather removeRequesterForWeatherTimeInterval:widgetIdentifier];
        [IS2Notifications unregisterForNotificationsWithIdentifier:widgetIdentifier];
        return null;
      };

      if(bgColor === "transparent"){
        document.getElementById("mainElement").style.backgroundColor = "rgba(255,255,255,0)";
      }else{
        document.getElementById("mainElement").style.backgroundColor = "rgba("+bgColor+bgOpacity+")";
      }


      if(tilesColor === "multicolor"){
        document.getElementById("tile1Container").style.backgroundColor = "rgba(25,153,0,"+tilesOpacity+")";
        document.getElementById("tile2Container").style.backgroundColor = "rgba(31,174,255,"+tilesOpacity+")";
        document.getElementById("tile5Container").style.backgroundColor = "rgba(37,114,114,"+tilesOpacity+")";
        document.getElementById("tile6Container").style.backgroundColor = "rgba(254,124,34,"+tilesOpacity+")";
        document.getElementById("tile7Container").style.backgroundColor = "rgba(0,172,237,"+tilesOpacity+")";
        document.getElementById("tile8Container").style.backgroundColor = "rgba(173,16,60,"+tilesOpacity+")";
        document.getElementById("tile9Container").style.backgroundColor = "rgba(59,89,152,"+tilesOpacity+")";
        document.getElementById("tile10Container").style.backgroundColor = "rgba(255,118,188,"+tilesOpacity+")";
        document.getElementById("tile12Container").style.backgroundColor = "rgba(254,124,34,"+tilesOpacity+")";
        document.getElementById("tile13Container").style.backgroundColor = "rgba(0,193,63,"+tilesOpacity+")";
        document.getElementById("tile14Container").style.backgroundColor = "rgba(255,29,119,"+tilesOpacity+")";
        document.getElementById("tile15Container").style.backgroundColor = "rgba(225,183,0,"+tilesOpacity+")";
        document.getElementById("tile16Container").style.backgroundColor = "rgba(0,130,135,"+tilesOpacity+")";
        document.getElementById("tile17Container").style.backgroundColor = "rgba(99,47,0,"+tilesOpacity+")";
      }else if(tilesColor === "transparent"){
        document.getElementById("tile1Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile2Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("clock").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("wxBgDiv").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile5Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile6Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile7Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile8Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile9Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile10Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("music").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile12Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile13Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile14Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile15Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile16Container").style.backgroundColor = "rgba(255,255,255,.2)";
        document.getElementById("tile17Container").style.backgroundColor = "rgba(255,255,255,.2)";
      }else{
        document.getElementById("tile1Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile2Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile5Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile6Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile7Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile8Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile9Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile10Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile12Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile13Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile14Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile15Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile16Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
        document.getElementById("tile17Container").style.backgroundColor = "rgba("+tilesColor+tilesOpacity+")";
      }

      function updateMedia(){
        if(firstMusic === 0){
          firstMusic = 1;
          $('#music').remove();
          var div = document.createElement('div');
          if(tilesColor === "transparent"){
            div.setAttribute("style", "opacity:0.6");
          }
          div.setAttribute('id', 'music');
          document.getElementById("tile11Container").appendChild(div);
          var elem = document.createElement("img");
          elem.setAttribute("height", "120");
          elem.setAttribute("width", "120");
          elem.setAttribute("id", "albumArt");
          elem.setAttribute("src", "" + [IS2Media currentTrackArtworkBase64] + "");
          document.getElementById("music").appendChild(elem);
        }else{
          document.getElementById("albumArt").src = [IS2Media currentTrackArtworkBase64];
        }

      }

      function getNum(n){
        if(n < 0){
          return 0;
        }else if(n >= 0 && n < 10){
          return 1;
        }else if(n >= 10 && n < 20){
          return 2;
        }else if(n >= 20 && n < 30){
          return 3;
        }else if(n >= 30 && n < 40){
          return 4;
        }else if(n >= 40 && n < 50){
          return 5;
        }else if(n >= 50 && n < 60){
          return 6;
        }else if(n >= 60 && n < 70){
          return 7;
        }else if(n >= 70 && n < 80){
          return 8;
        }else if(n >= 80 && n < 90){
          return 9;
        }else if(n >= 90 && n < 100){
          return 10;
        }else if(n >= 100){
          return 10;
        }
      }

      function brightnessNum(n){
        if(n >= 0 && n < .1){
          return 0;
        }else if(n >= .1 && n < .2){
          return 1;
        }else if(n >= .2 && n < .3){
          return 2;
        }else if(n >= .3 && n < .4){
          return 3;
        }else if(n >= .4 && n < .5){
          return 4;
        }else if(n >= .5 && n < .6){
          return 5;
        }else if(n >= .6 && n < .7){
          return 6;
        }else if(n >= .7 && n < .8){
          return 7;
        }else if(n >= .8 && n < .9){
          return 8;
        }else if(n >= .9 && n <= 1){
          return 9;
        }
      }

      function updateWx(){
        var dayArray = JSON.parse("" + [IS2Weather dayForecastsForCurrentLocationJSON]);
        var flickrCount = Math.floor((Math.random() * 99) + 1);
        var flickrSort = "relevance";
        var weatherBg = "flickr";
        var url;
        var date = new Date();
        var hours = date.getHours();


        //used to determine day or night
        var dayNight = "Day";
        if(hours > 0 && hours < 5){
          dayNight = "Night"
        }else if(hours > 5 && hours < 8){
          dayNight = "Early Morning";
        }else if(hours >= 8 && hours < 10){
          dayNight = "Morning";
        }else if(hours >= 10 && hours < 17){
          dayNight = "";
        }else if(hours >= 17 && hours < 20){
          dayNight = "Evening";
        }else if(hours >= 20 && hours <= 23){
          dayNight = "Night";
        }

        //custom language for better Flickr results
        function wxConScrub(c){
          if(c.includes("Tornado")){c = "Tornado Weather"; flickrSort = "interestingness_desc";}
          if(c.includes("Sleet")){c = "Sleet"; flickrSort = "relevance";}
          if(c.includes("Rain") || c.includes("Showers")){c = "Rain"; flickrSort = "relevance";}
          if(c.includes("Snow")){c = "Snow Falling"; flickrSort = "relevance";}
          if(c.includes("Sunny")){c = "Sunny Sky"; flickrSort = "relevance";}
          if(c.includes("Hail")){c = "Hailstorm"; flickrSort = "relevance";}
          if(c.includes("Tropical") || c.includes("Hurricane")){c = "Tropical Storm Weather"; flickrSort = "relevance";}
          if(c.includes("ThunderStorms") || c.includes("Thundershowers")){c = "Thunderstorm Weather Sky"; flickrSort = "interestingness_desc";}
          if(c.includes("Dust")){c = "Dust Weather Sky"; flickrSort = "relevance";}
          if(c.includes("Drizzle")){c = "Freezing Rain"; flickrSort = "interestingness_desc";}
          if(c.includes("Cold")){c = "Freezing Weather"; flickrSort = "interestingness_desc";}
          if(c.includes("Cloudy")){c = "Cloudy Weather Sky"; flickrSort = "relevance";}
          if(c.includes("Foggy")){c = "Foggy Weather Sky"; flickrSort = "relevance";}
          if(c.includes("Haze")){c = "Hazy Weather Sky"; flickrSort = "relevance";}
          if(c.includes("Smoky")){c = "Hazy Weather Sky"; flickrSort = "relevance";}
          if(c.includes("Blustery") || c.includes("Windy")){c = "Wind Field"; flickrSort = "interestingness_desc";}
          if(c.includes("Fair") || c.includes("Clear")){c = "Cloudless Sky"; flickrSort = "relevance";}
          if(c.includes("Hot")){c = "Palm Trees"; flickrSort = "relevance";}
          return c;
        }

        //converts C to F for temperature
        function celToFahr(c){
          return ((c * (9 / 5)) + 32);
        }

        //converts millibars to inches for air pressure
        function milliConversion(m){
          return ((29.92 * m) / (1013.25))
        }

        //converts degrees to a cardinal point
        var degToCard = function(deg){
          if (deg>11.25 && deg<33.75){
            return "NNE";
          }else if (deg>33.75 && deg<56.25){
            return "ENE";
          }else if (deg>56.25 && deg<78.75){
            return "E";
          }else if (deg>78.75 && deg<101.25){
            return "ESE";
          }else if (deg>101.25 && deg<123.75){
            return "ESE";
          }else if (deg>123.75 && deg<146.25){
            return "SE";
          }else if (deg>146.25 && deg<168.75){
            return "SSE";
          }else if (deg>168.75 && deg<191.25){
            return "S";
          }else if (deg>191.25 && deg<213.75){
            return "SSW";
          }else if (deg>213.75 && deg<236.25){
            return "SW";
          }else if (deg>236.25 && deg<258.75){
            return "WSW";
          }else if (deg>258.75 && deg<281.25){
            return "W";
          }else if (deg>281.25 && deg<303.75){
            return "WNW";
          }else if (deg>303.75 && deg<326.25){
            return "NW";
          }else if (deg>326.25 && deg<348.75){
            return "NNW";
          }else{
            return "N";
          }
        }

        document.getElementById("wx_icon").src = "images/wx/" + [IS2Weather currentCondition] + ".png";
        document.getElementById("temp").innerHTML = [IS2Weather currentTemperature] + "&deg";
        document.getElementById("city").innerHTML = [IS2Weather currentLocation];
        document.getElementById("condition").innerHTML = [IS2Weather currentConditionAsString];
        document.getElementById("wind_bearing").innerHTML = degToCard([IS2Weather currentWindDirection]);
        document.getElementById("wind_speed").innerHTML = [IS2Weather currentWindSpeed];

        //populates forecast elements
        document.getElementById('dayZeroDayString').innerHTML = translate[current].sday[dayArray[1].dayOfWeek - 1];
        document.getElementById('dayZeroImg').src = "images/wx/" + dayArray[1].condition + ".png";
        document.getElementById('dayZeroHigh').innerHTML = "" + dayArray[1].high + "&deg";
        document.getElementById('dayZeroLow').innerHTML = "" + dayArray[1].low + "&deg";

        document.getElementById('dayOneDayString').innerHTML = translate[current].sday[dayArray[2].dayOfWeek - 1];
        document.getElementById('dayOneImg').src = "images/wx/" + dayArray[2].condition + ".png";
        document.getElementById('dayOneHigh').innerHTML = "" + dayArray[2].high + "&deg";
        document.getElementById('dayOneLow').innerHTML = "" + dayArray[2].low + "&deg";

        document.getElementById('dayTwoDayString').innerHTML = translate[current].sday[dayArray[3].dayOfWeek - 1];
        document.getElementById('dayTwoImg').src = "images/wx/" + dayArray[3].condition + ".png";
        document.getElementById('dayTwoHigh').innerHTML = "" + dayArray[3].high + "&deg";
        document.getElementById('dayTwoLow').innerHTML = "" + dayArray[3].low + "&deg";

        //shows either flickr images or stock images
          if(weatherBg === "flickr" && tilesColor !== "transparent"){
            //gets flickr images
            $(function (){
              $.ajax({
                url: "https://api.flickr.com/services/rest/",
                data: {
                  method: "flickr.photos.search",
                  api_key: "c1955bceeed9a3a76af982daf012c546",
                  text: "" + wxConScrub([IS2Weather currentConditionAsString]) + " " + dayNight,
                  sort: flickrSort,
                  format: "json",
                  per_page: 100,
                  nojsoncallback: 1
                },
                success: function (response) {
                  $.each(response.photos.photo, function (index, value) {
                    url = 'https://farm' + value.farm + '.staticflickr.com/' + value.server + '/' + value.id + '_' + value.secret + '.jpg';

                    if(flickrCount === index || index === response.photos.photo.length){
                      //fades out old weather picture
                      document.getElementById("wxBg").src = url;
                      return false;
                    }
                  });
                }
              });
            })
          }else if(weatherBg === "stock" && tilesColor !== "transparent"){
              document.getElementById("wxBg").src = "images/wx/weather" + [IS2Weather currentCondition] + ".jpg";
          }

      }

      function updateSystem(){
        document.getElementById("brightness").src = "images/system/brightness-"+brightnessNum([IS2System getBrightness])+".svg";
        document.getElementById("phone-signal").src = "images/system/signal-"+[IS2Telephony phoneSignalBars]+".svg";
        document.getElementById("wifi-signal").src = "images/system/wifi-"+[IS2Telephony wifiSignalBars]+".svg";

        if([IS2System batteryStateAsInteger] === 1){
          document.getElementById("battery").src = "images/system/battery-"+getNum([IS2System batteryPercent])+".svg";
        }else{
          document.getElementById("battery").src = "images/system/batteryC-"+getNum([IS2System batteryPercent])+".svg";
        }
        setTimeout(updateSystem, 1000);
      }

      function updateNotifications(){
        document.getElementById("phone-count").innerHTML = [IS2Notifications notificationCountForApplication:"com.apple.mobilephone"];
        document.getElementById("sms-count").innerHTML = [IS2Notifications notificationCountForApplication:"com.apple.MobileSMS"];
        document.getElementById("mail-count").innerHTML = [IS2Notifications notificationCountForApplication:"com.apple.mobilemail"];
        document.getElementById("facebook-count").innerHTML = [IS2Notifications notificationCountForApplication:"com.facebook.Facebook"];
        document.getElementById("twitter-count").innerHTML = [IS2Notifications notificationCountForApplication:"com.atebits.Tweetie2"];

      }

        var swipeWx = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              updateWx();
            }
          }
        };
        var swipePhone = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.apple.mobilephone"];
            }
          }
        };
        var swipeSms = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.apple.MobileSMS"];
            }
          }
        };
        var swipeMail = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.apple.mobilemail"];
            }
          }
        };
        var swipeApps = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [[SBUIController sharedInstance] openAppDrawer];
            }
          }
        };
        var swipeWww = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              if(favBrowserApp === "appleSafari"){
                [IS2System openApplication:@""+"com.apple.mobilesafari"];
              }else if(favBrowserApp === "googleChrome"){
                [IS2System openApplication:@""+"com.google.chrome.ios"];
              }else if(favBrowserApp === "firefox"){
                [IS2System openApplication:@""+"com.mozilla.ios.Firefox"];
              }else if(favBrowserApp === "dolphin"){
                [IS2System openApplication:@""+"com.dolphin.browser.iphone"];
              }
            }
          }
        };
        var swipeMusic = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              if([IS2Media isPlaying]){
                [IS2System openApplication:@""+[IS2Media currentPlayingAppIdentifier]];
              }
              else{
                if(favMusicApp === "appleMusic"){
                  [IS2System openApplication:@""+"com.apple.Music"];
                }else if(favMusicApp === "iheartRadio"){
                  [IS2System openApplication:@""+"com.clearchannel.iheartradio"];
                }else if(favMusicApp === "pandora"){
                  [IS2System openApplication:@""+"com.pandora"];
                }else if(favMusicApp === "spotify"){
                  [IS2System openApplication:@""+"com.spotify.client"];
                }
              }
            }
          }
        };
        var swipeFacebook = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.facebook.Facebook"];
            }
          }
        };
        var swipeTwitter = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.atebits.Tweetie2"];
            }
          }
        };
        var swipeCamera = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.apple.camera"];
            }
          }
        };
        var swipeMaps = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              if(favMapApp === "appleMaps"){
                [IS2System openApplication:@""+"com.apple.Maps"];
              }else if(favMapApp === "googleMaps"){
                [IS2System openApplication:@""+"com.google.Maps"];
              }else if(favMapApp === "waze"){
                [IS2System openApplication:@""+"com.waze.iphone"];
              }
            }
          }
        };
        var swipeSiri = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openSiri];
            }
          }
        };
        var swipeLock = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System lockDevice];
            }
          }
        };
        var swipeSettings = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              [IS2System openApplication:@""+"com.apple.Preferences"];
            }
          }
        };
        var swipePage2 = {
          itemSwipe: function(direction){
            if(direction === 'p'){
              window.open("page2.html", "_self",false);
            }
          }
        };

        //adds swipe detection to element
        detectswipe('#tile4Container', swipeWx.itemSwipe);
        detectswipe('#tile1Container', swipePhone.itemSwipe);
        detectswipe('#tile2Container', swipeSms.itemSwipe);
        detectswipe('#tile5Container', swipeMail.itemSwipe);
        detectswipe('#tile10Container', swipeApps.itemSwipe);
        detectswipe('#tile6Container', swipeWww.itemSwipe);
        detectswipe('#tile11Container', swipeMusic.itemSwipe);
        detectswipe('#tile9Container', swipeFacebook.itemSwipe);
        detectswipe('#tile7Container', swipeTwitter.itemSwipe);
        detectswipe('#tile12Container', swipeCamera.itemSwipe);
        detectswipe('#tile13Container', swipeMaps.itemSwipe);
        detectswipe('#tile14Container', swipeSiri.itemSwipe);
        detectswipe('#tile15Container', swipeLock.itemSwipe);
        detectswipe('#tile16Container', swipeSettings.itemSwipe);
        detectswipe('#tile17Container', swipePage2.itemSwipe);

      //]]>
    </script>
    <script src='js/jquery-3.1.1.min.js'></script>
    <script type="text/javascript">
      var j3 = $.noConflict(true);
    </script>
    <script src="js/clock.js"></script>
  </body>
</html>
